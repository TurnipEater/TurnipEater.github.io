<html lang="en-gb" dir="ltr">

<head>
<title>Sortable list demo</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- The sortable list is taken from https://getuikit.com/docs/sortable
and links to their CSS and JS. https://getuikit.com/docs/installation --> 
     
<!-- UIkit CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.6.22/dist/css/uikit.min.css" />

<!-- UIkit JS -->
<script src="https://cdn.jsdelivr.net/npm/uikit@3.6.22/dist/js/uikit.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/uikit@3.6.22/dist/js/uikit-icons.min.js"></script>



<style>
div {width: 90%;
  margin: auto;
}
</style>

<style>
.button {
  border: none;
  border-radius: 8px;
  color: white;
  padding: 10px 15px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
  margin: 4px 2px;
  cursor: pointer;
}
.button1 {background-color: #008CBA;} /* Blue */
.button2 {background-color: #4CAF50;} /* Green */
</style>

<body>
<a id="topofpage"> </a>
<div> <p style="color:blue">Sort the following items into the correct order.</P><P></P> </div>
<!-- Here are the items in the list. They are written here unsorted
but the two id numbers define the correct order --> 
  
<div>       




<ul id="sortable-element" class="uk-nav uk-nav-default uk-width-big" uk-sortable="cls-custom: uk-box-shadow-small uk-flex uk-flex-middle uk-background"
       >

  <li class="uk-sortable-item" data-id="3" id="3">                          To die—to sleep,<BR>
No more; and by a sleep to say we end<BR>
The heart-ache and the thousand natural shocks<BR>
That flesh is heir to: 'tis a consummation<BR>
Devoutly to be wish'd.
  <br><br></li>
  <li class="uk-sortable-item" data-id="2" id="2">Whether 'tis nobler in the mind to suffer<BR>
The slings and arrows of outrageous fortune,<BR>
Or to take arms against a sea of troubles<BR>
And by opposing end them.
  <br><br></li>
  <li class="uk-sortable-item" data-id="1" id="1">To be, or not to be, that is the question:
  <br><br></li>
  <li class="uk-sortable-item" data-id="5" id="5">For who would bear the whips and scorns of time,
    <br><br></li>
  <li class="uk-sortable-item" data-id="4" id="4">To die, to sleep;<BR>
To sleep, perchance to dream—ay, there's the rub:<BR>
For in that sleep of death what dreams may come,<BR>
When we have shuffled off this mortal coil,<BR>
Must give us pause—there's the respect<BR>
That makes calamity of so long life.

  <br><br></li>
  <li class="uk-sortable-item" data-id="6" id="6">Th'oppressor's wrong, the proud man's contumely,
  <br><br></li>
  <li class="uk-sortable-item" data-id="8" id="8">The insolence of office, and the spurns<BR>
That patient merit of th'unworthy takes,
  <br><br></li>
  <li class="uk-sortable-item" data-id="7" id="7">The pangs of dispriz'd love, the law's delay,
  <br><br></li>
  <li class="uk-sortable-item" data-id="10" id="10">Who would fardels bear,<BR>
To grunt and sweat under a weary life,<BR>
But that the dread of something after death,
  <br><br></li>
  <li class="uk-sortable-item" data-id="9" id="9">When he himself might his quietus make<BR>
With a bare bodkin?
  <br><br></li>
  <li class="uk-sortable-item" data-id="11" id="11">The undiscovere'd country, from whose bourn<BR>
No traveller returns, puzzles the will,<BR>
And makes us rather bear those ills we have<BR>
Than fly to others that we know not of?
  <br><br></li>
  <li class="uk-sortable-item" data-id="13" id="13">And thus the native hue of resolution<BR>
Is sicklied o'er with the pale cast of thought,
  <br><br></li>
  <li class="uk-sortable-item" data-id="14" id="14">And enterprises of great pith and moment<BR>
With this regard their currents turn awry<BR>
And lose the name of action.
  <br><br></li>
  <li class="uk-sortable-item" data-id="12" id="12">Thus conscience doth make cowards of us all,
  <br><br></li>
  
</ul>

</div>    
<P><P>

<div><a href="#feedback"><button class="button button1" >Check</button></a></div>

<!-- Added space so the feedback is off the bottom of the screen --> 
<p style="margin-bottom:60cm;"></p>

<!-- This div is used to display the checked answer --> 

<a id="feedback"></a>
<div id = update>
<P> You need to attempt the task before checking the answer </P>
</div>

<p style="margin-bottom:3cm;"></p>


<div><a href="#topofpage"><button class="button button2" >Try again</button></a></div>
<p style="margin-bottom:1cm;"></p>

       
       <script>
       
       //Initialise some variables
       var OutputStr1 ="";
       var OutputStr2 ="";
       var PrevIndxNo = "0";
       
       
       //Not sure how this works as I lifted it from Stackoverflow
   //https://stackoverflow.com/questions/47549648/uikit-how-to-get-order-with-the-sortable-component
    // but it loops in some way making it possible to retrieve the changed
    // order of the list.
    // I am using each run through the loop to find the current item, its 
    // index number and its content.
    // Everything id triggered when an item in the list is moved.
    
    
       let sortable = UIkit.sortable("#sortable-element");
UIkit.util.on(sortable.$el, "added moved", function(e, sortable) { 
    sortable.items.forEach(function(item, index) { 

      
      var ThisIndxNo = UIkit.util.data(item, "id")
      var ThisItem = document.getElementById(ThisIndxNo)
      var ThisItemContent = ThisItem.textContent
      
      //This IF ELSE construct checks to see if we are dealing with the first  
      //item in the newly reorderd list.
      // 1. If we are, it just adds the item content to the output string and
      // updates the previousIndex variable. The horizontal rule of zero pixels
      // was added for final formatting reasons. There may be a better way!
      // 2. If not first item in list then if the index number is one more
      // than the previous index number then the item correctly follows the
      // previous one and and a green horizontal rule is added and then the
      // item content added.
      // 3. If neither of the above then the item doesn't correctly follow the
      // previous one and a red rule is added, etc.


      if (PrevIndxNo == "0") {
      
        PrevIndxNo = ThisIndxNo;
        OutputStr1 = ThisItemContent;
        OutputStr1 += '\n';
        OutputStr1 += "<hr style=\"border: 0px solid grey;\">";
        OutputStr1 += '\n';
        
      } else if (ThisIndxNo-PrevIndxNo==1 ){
        PrevIndxNo = ThisIndxNo;
        OutputStr1 += '\n';
        OutputStr1 += "<hr style=\"border: 2px solid lightgreen;\">";
        OutputStr1 += '\n';
        OutputStr1 += ThisItemContent;

      } else {
        PrevIndxNo = ThisIndxNo;
        OutputStr1 += '\n';
        OutputStr1 += "<hr style=\"border: 2px solid red;\">";
        OutputStr1 += '\n';
        OutputStr1 += ThisItemContent;
}

    });
    
         // The looping has finished so we reset the two variables to their
         // starting positions ready for the next change made to the list.
    
       PrevIndxNo = "0";
       OutputStr2=OutputStr1;
       OutputStr1 ="";

         // the changed list with the added coloured rules is placed into
         // answer paragraph.
         // Whether this is visible depends on how high up the page it is
         // displayed. No doubt there is a better way perhaps by changing the 
         // visibility option on the relevant div.
         
       document.getElementById("update").innerHTML = OutputStr2;

    
});


  </script> 
  </body>

</html>